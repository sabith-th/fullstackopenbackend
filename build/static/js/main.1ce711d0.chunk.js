(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,t,n){e.exports=n(39)},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),o=n.n(c),u=n(4),i=n(2),l=function(e){var t=e.onChange;return a.a.createElement("div",null,"search: ",a.a.createElement("input",{onChange:t}))},s=function(e){var t=e.notification,n=t.message,r=t.status;return a.a.createElement("div",{className:"success"===r?"success":"error"},a.a.createElement("p",null,n))},f=n(15);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=e.addNewContact,n=e.persons,c=e.updateContact,o=Object(r.useState)(""),u=Object(i.a)(o,2),l=u[0],s=u[1],p=Object(r.useState)(""),d=Object(i.a)(p,2),b=d[0],v=d[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r,a=(r=l,n.find((function(e){return e.name.toLowerCase()===r.toLowerCase()})));a?window.confirm("Update ".concat(l," contact info?"))&&c(a.id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{number:b})):t(l,b);s(""),v("")}},a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{value:l,onChange:function(e){return s(e.target.value)}})),a.a.createElement("div",null,"phone:"," ",a.a.createElement("input",{value:b,onChange:function(e){return v(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},d=function(e){var t=e.person,n=e.onDelete;return a.a.createElement("div",null,t.name," ",t.number,a.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete ".concat(t.name,"?"))&&n(t)}},"Delete Contact "))},b=function(e){var t=e.persons,n=e.onDelete;return a.a.createElement("div",null,function(e){return e.map((function(e){return a.a.createElement(d,{key:e.name,person:e,onDelete:n})}))}(t))},v=n(3),O=n.n(v),h=function(){return O.a.get("/api/persons").then((function(e){return e.data}))},E=function(e){return O.a.post("/api/persons",e).then((function(e){return e.data}))},j=function(e){return O.a.delete("".concat("/api/persons","/").concat(e))},g=function(e,t){return O.a.put("".concat("/api/persons","/").concat(e),t).then((function(e){return e.data}))},w=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(null),f=Object(i.a)(o,2),m=f[0],d=f[1],v=Object(r.useState)(null),O=Object(i.a)(v,2),w=O[0],y=O[1];Object(r.useEffect)((function(){h().then((function(e){return c(e)}))}),[]);var C=function(e,t){y({message:e,status:t}),setTimeout((function(){y(null)}),3e3)};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),null!==w?a.a.createElement(s,{notification:w}):null,a.a.createElement(l,{onChange:function(e){var t=n.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));d(Object(u.a)(t))}}),a.a.createElement(p,{addNewContact:function(e,t){E({name:e,number:t}).then((function(e){return c([].concat(Object(u.a)(n),[e]))})),C("".concat(e," added to contact"),"success"),d(null)},persons:n,updateContact:function(e,t){g(e,t).then((function(t){return c(n.map((function(n){return n.id!==e?n:t})))})),C("".concat(t.name," contact info updated"),"success"),d(null)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(b,{persons:null!==m?m:n,onDelete:function(e){var t=e.id,r=e.name;j(t).then((function(e){204===e.status&&(c(n.filter((function(e){return e.id!==t}))),C("".concat(r," deleted from contact"),"success"))})).catch((function(e){404===e.response.status?(C("".concat(r," contact details not found on server"),"error"),c(n.filter((function(e){return e.id!==t})))):console.error(e)}))}}))};n(38);o.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.1ce711d0.chunk.js.map